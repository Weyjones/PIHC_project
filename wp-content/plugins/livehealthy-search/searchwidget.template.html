<div class="search-container container">
	<div class="row">
		<div class="filter-container col-sm-3">
			<!-- <search-filter></search-filter> -->
			<div>
				{{filteredPrograms.length}} result(s)
			</div>
			<button class="view-map-btn" ng-click="openMapview()">See Listings in Map View</button>
			<hr/>

			<h3>Export Results</h3>
			<a class="exportButton" data-toggle="modal" data-target="#emailModal">E-mail a Link to Results</a><br>
			<!-- Modal -->
			<div class="modal fade" id="emailModal" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">E-mail a Link to Results</h4>
						</div>
						<div class="modal-body">
										<fieldset>
												<legend>Email Options</legend>
												<div class="row">
														<div class="col-sm-12">
																<div class="form-group has-feedback">
																		<label for="dirTitle">Your Name</label>
																		<input class="form-control" type="text" id="senderName" placeholder="Please Enter a Title"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
												</div>
												<div class="row">
														<div class="col-sm-12">
																<div class="form-group has-feedback">
																		<label for="dirCreatedBy">E-mail To (required)</label>
																		<input class="form-control" type="text" id="reciver" value=""><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
												</div>
												<div class="row">
													<div class="col-sm-12">
																<div class="form-group has-feedback">
																		<label for="dirDescription">Subject</label>
																		<input class="form-control" type="text" id="subject" value="Resources I found at Providence"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
												</div>
												<div class="row">
													<div class="col-sm-12">
																<div class="form-group has-feedback">
																		<label for="dirDescription">textbody</label>
																		<textarea class="form-control" id="textbody" rows="3">I found these resources at LiveWell Local</textarea>
																</div>
														</div>
												</div>
										</fieldset>
								</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="sendResult()">Send</button>
						</div>
					</div>

				</div>
			</div>

			<a class="exportButton" data-toggle="modal" data-target="#pdfModal">Export Results as PDF</a>

			<!-- Modal -->
			<div class="modal fade" id="pdfModal" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Export Results as PDF</h4>
						</div>
						<div class="modal-body">
										<p><strong>Note:</strong> If you export too many result, <em>it takes more time.</em></p>
										<fieldset>
												<legend>Header Options</legend>
												<div class="row">
														<div class="col-sm-7">
																<div class="form-group has-feedback">
																		<label for="dirTitle">Title (max. 60 characters)</label>
																		<input class="form-control" type="text" id="dirTitle" maxlength="60" placeholder="Please Enter a Title"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
														<div class="col-sm-5">
																<div class="form-group has-feedback">
																		<label for="dirSubtitle">Referred to</label>
																		<input class="form-control" type="text" id="referredTo" maxlength="140"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
												</div>
												<div class="row">
														<div class="col-sm-7">
																<div class="form-group has-feedback">
																		<label for="dirDatePrinted">Date Printed</label>
																		<input class="form-control" type="date" id="dirDatePrinted" value="2017-08-05"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>
														<div class="col-sm-5">
																<div class="form-group has-feedback">
																		<label for="dirCreatedBy">Prepared By</label>
																		<input class="form-control" type="text" id="preparedBy" value=""><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
																</div>
														</div>

												</div>
												<div class="row">
													<div class="col-sm-12">
																<div class="form-group has-feedback">
																		<label for="dirDescription">Description</label>
																		<textarea class="form-control" id="PDFdescription" rows="3">This tailored list includes:</textarea>
																</div>
														</div>
												</div>
										</fieldset>
								</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="outputPDF(filteredPrograms)">Open PDF in new Window</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="downloadPDF(filteredPrograms)">Download PDF</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="printPDF(filteredPrograms)">Print PDF</button>
						</div>
					</div>

				</div>
			</div>




			<div class="filters">
				<!-- <h2 class="filter-header">Search Filter</h2>
				<div class="function-area">
					<input ng-model="$ctrl.query" />
				</div> -->
				<div class="function-area">
					<h4 class="function-header">Sort by</h4>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="">
						Relevance
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="ProgramName">
						ProgramName
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="AccountName">
						AccountName
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="Distance">
						Distance
					</label><br/>
				</div>
				<div class="treeview hover">
					<ul>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-1" ng-checked="expandFilterSection('age')">
							<label for="cb-1">Ages Reached by Program</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Seniors (60+)')" ng-checked="checkFilter('age', 'Seniors (60+)')">Seniors (60+)</li>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Adult (26-59)')" ng-checked="checkFilter('age', 'Adult (26-59)')">Adults (26-59)</li>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Young Adults (19-25)')" ng-checked="checkFilter('age', 'Young Adults (19-25)')">Young Adults (19-25)</li>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Teens (11-18)')" ng-checked="checkFilter('age', 'Teens (11-18)')">Teens (11-18)</li>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Youth (6-10)')" ng-checked="checkFilter('age', 'Youth (6-10)')">Youth (6-10)</li>
								<li><input type="checkbox" ng-click="includeFilter('age', 'Children (0-5)')" ng-checked="checkFilter('age', 'Children (0-5)')">Children (0-5)</li>
							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-2" ng-checked="expandFilterSection('gender')">
							<label for="cb-2">Genders Served</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('gender', 'Female')" ng-checked="checkFilter('gender', 'Female')">Female</li>
								<li><input type="checkbox" ng-click="includeFilter('gender', 'Male')" ng-checked="checkFilter('gender', 'Male')">Male</li>
								<li><input type="checkbox" ng-click="includeFilter('gender', 'Gender Fluid')" ng-checked="checkFilter('gender', 'Gender Fluid')">Gender Fluid</li>
							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-3" ng-checked="expandFilterSection('household')">
							<label for="cb-3">Household Type Served</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Multiple adults')" ng-checked="checkFilter('household', 'Multiple adults')">Multiple Adults</li>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Multiple adults with children')" ng-checked="checkFilter('household', 'Multiple adults')">Multiple Adults with Children</li>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Open to all (general community)')" ng-checked="checkFilter('household', 'Open to all (general community)')">Open to All (General Community)</li>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Single adult')" ng-checked="checkFilter('household', 'Single adult')">Single Adult</li>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Single adult with children')" ng-checked="checkFilter('household', 'Single adult with children')">Single Adult with Children</li>
								<li><input type="checkbox" ng-click="includeFilter('household', 'Supportive living')" ng-checked="checkFilter('household', 'Supportive living')">Supportive Living</li>
							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-4" ng-checked="expandFilterSection('focus')">
							<label for="cb-4">Program Focus</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Adult activity programs')" ng-checked="checkFilter('focus', 'Adult activity programs')">Adult Activity Programs</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Child nutrition')" ng-checked="checkFilter('focus', 'Child nutrition')">Child Nutrition</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Community nutrition education')" ng-checked="checkFilter('focus', 'Community nutrition education')">Community Nutrition Education</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Emergency food access')" ng-checked="checkFilter('focus', 'Emergency food access')">Emergency Food Access</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Employee wellness')" ng-checked="checkFilter('focus', 'Employee wellness')">Employee Wellness</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Farmers markets/community gardens')" ng-checked="checkFilter('focus', 'Farmers markets/community gardens')">Farmers Markets/Community Gardens</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Health education')" ng-checked="checkFilter('focus', 'Health education')">Health Education</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Safety net programs')" ng-checked="checkFilter('focus', 'Safety net programs')">Safety Net Programs</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Senior nutrition')" ng-checked="checkFilter('focus', 'Senior nutrition')">Senior Nutrition</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Youth activity programs')" ng-checked="checkFilter('focus', 'Youth activity programs')">Youth Activity Programs</li>
								<li><input type="checkbox" ng-click="includeFilter('focus', 'Other')" ng-checked="checkFilter('focus', 'Other')">Other</li>

							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-5" ng-checked="expandFilterSection('objective')">
							<label for="cb-5">Program Objective</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Capacity Building')" ng-checked="checkFilter('objective', 'Capacity Building')">Capacity Building</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Ensuring a healthy weight')" ng-checked="checkFilter('objective', 'Ensuring a healthy weight')">Ensuring a Healthy Weight</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Increasing adult activity')" ng-checked="checkFilter('objective', 'Increasing adult activity')">Increasing Adult Activity</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Increasing youth activity')" ng-checked="checkFilter('objective', 'Increasing youth activity')">Increasing Youth Activity</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Promoting a balanced diet')" ng-checked="checkFilter('objective', 'Promoting a balanced diet')">Promoting a Balanced Diet</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Promoting a healthy weight')" ng-checked="checkFilter('objective', 'Promoting a healthy weight')">Promoting a Healthy Weight</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Reducing food insecurity')" ng-checked="checkFilter('objective', 'Reducing food insecurity')">Reducing Food Insecurity</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Reducing sedentary behavior')" ng-checked="checkFilter('objective', 'Reducing sedentary behavior')">Reducing Sedentary Behavior</li>
								<li><input type="checkbox" ng-click="includeFilter('objective', 'Other')" ng-checked="checkFilter('objective', 'Other')">Other</li>
							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-6" ng-checked="expandFilterSection('type')">
							<label for="cb-6">Program Type</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('type', 'ctivity')" ng-checked="checkFilter('type', 'ctivity')">Increase Activity</li>
								<li><input type="checkbox" ng-click="includeFilter('type', 'utrition')" ng-checked="checkFilter('type', 'utrition')">Improve Nutrition</li>
							</ul>
						</li>
						<li class="level-1">
							<input class="expand-label" type="checkbox" id="cb-7" ng-checked="expandFilterSection('ethnic')">
							<label for="cb-7">Sub-Community or Ethnic Group Reach</label>
							<ul>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'African American')" ng-checked="checkFilter('ethnic', 'African American')">African American</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Caucasian')" ng-checked="checkFilter('ethnic', 'Caucasian')">Caucasian</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Chinese')" ng-checked="checkFilter('ethnic', 'Chinese')">Chinese</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Filipino')" ng-checked="checkFilter('ethnic', 'Filipino')">Filipino</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Japanese')" ng-checked="checkFilter('ethnic', 'Japanese')">Japanese</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Korean')" ng-checked="checkFilter('ethnic', 'Korean')">Korean</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Latino')" ng-checked="checkFilter('ethnic', 'Latino')">Latino</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Open to all (general community)')"
										   ng-checked="checkFilter('ethnic', 'Open to all (general community)')">Open to All (General Community)</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'People with diverse abilities')" ng-checked="checkFilter('ethnic', 'People with diverse abilities')">People With Diverse Abilities</li>
								<li><input type="checkbox" ng-click="includeFilter('ethnic', 'Russian')" ng-checked="checkFilter('ethnic', 'Russian')">Russian</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="result-container col-sm-9">
			<div>
				<div class="result-item row" ng-repeat="program in $ctrl.programs | filter: $ctrl.keyword | filter: programFilter | orderBy:$ctrl.orderProp as filteredPrograms">
					<div class="info col-sm-4">
						<!-- <a href="livehealthy2020/detail/?name={{program.Program__r.Name}}&account={{program.Program__r.Account__c}}&address={{program.Program__r.Address__c}}"> -->
						<h3 class="server-name" ng-click="$ctrl.openDetailPage(program)">
				  			{{program.AccountName}}
			  			</h3>
						<!-- </a> -->
						<span class="program-name">
							{{program.ProgramName}}
						</span>
						<div class="address" id="address-{{$index}}">
							{{program.fullAddress}}
						</div>
						<!--
						<div>
							{{program.latlng}}
						</div>

						<div class="distance">
							2 miles - <a href="#">Get Directions</a>
						</div>
						<div class="phone">
							206-123-4567
						</div>
						<div class="website">
							<a href="#">Website</a>
						</div>
						-->
					</div>
					<div class="divider"></div>
					<div class="desc col-sm-8">
						<h4>Description</h4>
						<p class="desc-content hidden-print">
			  				{{program.Description__c | cut:true:215:' ...'}}
		  				</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
