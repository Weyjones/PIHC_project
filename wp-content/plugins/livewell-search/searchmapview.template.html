<div class="search-container container">
	<div class="row">
		<div class="filter-container col-sm-3">
			<div>
				{{filteredPrograms.length}} result(s)
			</div>
			<button class="view-map-btn">See Listings in Map View</button>
			<hr/>
			<div class="filters">
				<div class="function-area">
					<h4 class="function-header">Sort by</h4>
					<select ng-model="$ctrl.orderProp">
						<option value="ProgramName">Program Name</option>
						<option value="AccountName">Service Name</option>
						<option value="">Relevance</option>
					</select>
				</div>
				<div class="treeview hover">
					<ul style="list-style:none" class="lwl-topics-filter-list">
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Mental/Emotional/Spiritual')" ng-checked="checkFilter('dimension', 'Mental/Emotional/Spiritual')"><div class="mentalIcon icon inline-block"></div><label class="inline-block">Mental, Emotional & Spiritual</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Neighborhood and Natural Environment')" ng-checked="checkFilter('dimension', 'Neighborhood and Natural Environment')"><div class="neighborIcon icon inline-block"></div><label class="inline-block">Neighborhood/Natural Environment</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Physical Health')" ng-checked="checkFilter('dimension', 'Physical Health')"><div class="physicalIcon icon inline-block"></div><label class="inline-block">Physical Health</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Relationships')" ng-checked="checkFilter('dimension', 'Relationships')"><div class="relastionlIcon icon inline-block"></div><label class="inline-block">Relationships & Social Connection</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Security/Basic Needs')" ng-checked="checkFilter('dimension', 'Security/Basic Needs')"><div class="securityIcon icon inline-block"></div><label class="inline-block">Security & Basic Need</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Work/Learning & Growth')" ng-checked="checkFilter('dimension', 'Work/Learning & Growth')"><div class="workIcon icon inline-block"></div><label class="inline-block">Work, Learning & Growth</label></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="result-container col-sm-9">
			<div>
				<div class="map-view-container">
					<ng-map ng-if="$ctrl.programs" id="map" default-style="true" zoom="8" center="seattle" scrollwheel="false"  style="height:450px">
						<div ng-repeat="program in $ctrl.programs | filter: $ctrl.keyword | filter: programFilter | orderBy:$ctrl.orderProp" >
							<marker id="{{program.Id}}" position="[{{program.GeoInfo__Latitude__s}}, {{program.GeoInfo__Longitude__s}}]" title="hello" on-click="$ctrl.showDetail(program)">
							</marker>
						</div>
						<info-window id="map-lwl">

							<div ng-non-bindable>
								<div id="siteNotice"></div>
								<h4 style="color:#06c">{{$ctrl.selectedProgram.AccountName}}</h4>
								<div id="bodyContent">
									<p>
										<b>{{$ctrl.selectedProgram.ProgramName}}</b><br>
										{{$ctrl.selectedProgram.fullAddress}}<br>

										<a href="https://maps.google.com/?daddr={{$ctrl.selectedProgram.fullAddress}}&saddr=Current%20Location">
											Directions
										</a>
									</p>
								</div>
							</div>
						</info-window>
					</ng-map>
				</div>
				<div class="result-item row" ng-repeat="program in $ctrl.programs | filter: $ctrl.keyword | filter: programFilter | orderBy:$ctrl.orderProp as filteredPrograms">
					<div class="info col-sm-4">
						<a><h2 class="program-name" ng-click="$ctrl.openDetailPage(program)">{{program.AccountName}}</h2>
						<div class="icon-list"></a>
							<div ng-if="program.LWL_Dimension__c === 'Mental/Emotional/Spiritual'" class="mentalIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Neighborhood and Natural Environment'" class="neighborIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Physical Health'" class="physicalIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Relationships'" class="relastionlIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Security/Basic Needs'" class="securityIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Work/Learning & Growth'" class="workIcon inline-block"></div>
						</div>
						<span class="program-name">
							  {{program.ProgramName}}
						</span>
						<div class="address" id="address-{{$index}}">
							{{program.fullAddress}}
						</div>
						<div class="distance">
							2 miles - <a href="#">Get Directions</a>
						</div>
						<div class="phone">
							206-123-4567
						</div>
						<div class="website">
							<a href="">Website</a>
						</div>
					</div>
					<div class="desc col-sm-8">
						<h4>Description</h4>
						<p class="desc-content">
							{{program.Description__c | cut:true:215:' ...'}}
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
