
<div class="search-container container">
	<div class="row">
		<div class="filter-container col-sm-3">
			<!-- <search-filter></search-filter> -->
			<div>
				{{filteredPrograms.length}} result(s)
			</div>
			<button class="view-map-btn" ng-click="openMapview()">See Listings in Map View</button>

			<hr/>
			<h3>Export Results</h3>
			<a class="exportButton" data-toggle="modal" data-target="#emailModal">E-mail a Link to Results</a><br>
			<!-- Modal -->
		  <div class="modal fade" id="emailModal" role="dialog">
		    <div class="modal-dialog">

		      <!-- Modal content-->
		      <div class="modal-content">
		        <div class="modal-header">
		          <button type="button" class="close" data-dismiss="modal">&times;</button>
		          <h4 class="modal-title">E-mail a Link to Results</h4>
		        </div>
		        <div class="modal-body">
		                <fieldset>
		                    <legend>Email Options</legend>
		                    <div class="row">
		                        <div class="col-sm-12">
		                            <div class="form-group has-feedback">
		                                <label for="dirTitle">Your Name</label>
		                                <input class="form-control" type="text" id="senderName" placeholder="Please Enter a Title"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
												</div>
		                    <div class="row">
		                        <div class="col-sm-12">
		                            <div class="form-group has-feedback">
		                                <label for="dirCreatedBy">E-mail To (required)</label>
		                                <input class="form-control" type="text" id="reciver" value=""><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row">
		                    	<div class="col-sm-12">
		                            <div class="form-group has-feedback">
		                                <label for="dirDescription">Subject</label>
		                                <input class="form-control" type="text" id="subject" value="Resources I found at Providence"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
		                    </div>
												<div class="row">
		                    	<div class="col-sm-12">
		                            <div class="form-group has-feedback">
		                                <label for="dirDescription">textbody</label>
		                                <textarea class="form-control" id="textbody" rows="3">I found these resources at LiveWell Local</textarea>
		                            </div>
		                        </div>
		                    </div>
		                </fieldset>
		            </div>
		        <div class="modal-footer">
		          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="sendResult()">Send</button>
		        </div>
		      </div>

		    </div>
		  </div>

			<a class="exportButton" data-toggle="modal" data-target="#pdfModal">Export Results as PDF</a>

			<!-- Modal -->
		  <div class="modal fade" id="pdfModal" role="dialog">
		    <div class="modal-dialog">

		      <!-- Modal content-->
		      <div class="modal-content">
		        <div class="modal-header">
		          <button type="button" class="close" data-dismiss="modal">&times;</button>
		          <h4 class="modal-title">Export Results as PDF</h4>
		        </div>
		        <div class="modal-body">
		                <p><strong>Note:</strong> If you export too many result, <em>it takes more time.</em></p>
		                <fieldset>
		                    <legend>Header Options</legend>
		                    <div class="row">
		                        <div class="col-sm-7">
		                            <div class="form-group has-feedback">
		                                <label for="dirTitle">Title (max. 60 characters)</label>
		                                <input class="form-control" type="text" id="dirTitle" maxlength="60" placeholder="Please Enter a Title"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
		                        <div class="col-sm-5">
		                            <div class="form-group has-feedback">
		                                <label for="dirSubtitle">Referred to</label>
		                                <input class="form-control" type="text" id="referredTo" maxlength="140"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row">
		                        <div class="col-sm-7">
		                            <div class="form-group has-feedback">
		                                <label for="dirDatePrinted">Date Printed</label>
		                                <input class="form-control" type="date" id="dirDatePrinted" value="2017-08-05"><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>
		                        <div class="col-sm-5">
		                            <div class="form-group has-feedback">
		                                <label for="dirCreatedBy">Prepared By</label>
		                                <input class="form-control" type="text" id="preparedBy" value=""><span class="hidden glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		                            </div>
		                        </div>

		                    </div>
		                    <div class="row">
		                    	<div class="col-sm-12">
		                            <div class="form-group has-feedback">
		                                <label for="dirDescription">Description</label>
		                                <textarea class="form-control" id="PDFdescription" rows="3">This tailored list includes:</textarea>
		                            </div>
		                        </div>
		                    </div>
		                </fieldset>
		            </div>
		        <div class="modal-footer">
		          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="outputPDF(filteredPrograms)">Open PDF in new Window</button>
		          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="downloadPDF(filteredPrograms)">Download PDF</button>
		          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="printPDF(filteredPrograms)">Print PDF</button>
		        </div>
		      </div>

		    </div>
		  </div>


			<!----Filter--->

			<div class="filters">
				<!-- <h2 class="filter-header">Search Filter</h2>
				<div class="function-area">
					<input ng-model="$ctrl.query" />
				</div> -->
				<div class="function-area">
					<h4 class="function-header">Sort by</h4>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="">
						Relevance
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="ProgramName">
						ProgramName
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="AccountName">
						AccountName
					</label><br/>
					<label>
						<input type="radio" ng-model="$ctrl.orderProp" value="Distance">
						Distance
					</label><br/>
				</div>
				<div class="treeview hover">
					<ul style="list-style:none" class="lwl-topics-filter-list">
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Mental/Emotional/Spiritual')" ng-checked="checkFilter('dimension', 'Mental/Emotional/Spiritual')"><div class="mentalIcon icon inline-block"></div><label class="inline-block">Mental, Emotional & Spiritual</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Neighborhood and Natural Environment')" ng-checked="checkFilter('dimension', 'Neighborhood and Natural Environment')"><div class="neighborIcon icon inline-block"></div><label class="inline-block">Neighborhood/Natural Environment</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Physical Health')" ng-checked="checkFilter('dimension', 'Physical Health')"><div class="physicalIcon icon inline-block"></div><label class="inline-block">Physical Health</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Relationships')" ng-checked="checkFilter('dimension', 'Relationships')"><div class="relastionlIcon icon inline-block"></div><label class="inline-block">Relationships & Social Connection</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Security/Basic Needs')" ng-checked="checkFilter('dimension', 'Security/Basic Needs')"><div class="securityIcon icon inline-block"></div><label class="inline-block">Security & Basic Need</label></li>
						<li><input class="inline-block" type="checkbox" ng-click="includeFilter('dimension', 'Work/Learning & Growth')" ng-checked="checkFilter('dimension', 'Work/Learning & Growth')"><div class="workIcon icon inline-block"></div><label class="inline-block">Work, Learning & Growth</label></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="result-container col-sm-9">
			<div>
				<div class="result-item row" ng-repeat="program in $ctrl.programs | filter: $ctrl.keyword | filter: programFilter | orderBy:$ctrl.orderProp as filteredPrograms">
					<div class="info col-sm-4">
						<a><h3 class="program-name" ng-click="$ctrl.openDetailPage(program)">
				  			{{program.AccountName}}
			  			</h3></a>
						<div class="icon-list">
							<div ng-if="program.LWL_Dimension__c === 'Mental/Emotional/Spiritual'" class="mentalIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Neighborhood and Natural Environment'" class="neighborIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Physical Health'" class="physicalIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Relationships'" class="relastionlIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Security/Basic Needs'" class="securityIcon inline-block"></div>
							<div ng-if="program.LWL_Dimension__c === 'Work/Learning & Growth'" class="workIcon inline-block"></div>
						</div>
						<span class="service-name">
							{{program.ProgramName}}
						</span>
						<div class="address" id="address-{{$index}}">
							{{program.fullAddress}}
						</div>

						<div ng-if="program.distance" class="distance">
							{{program.distance}} miles - <a href="#">Get Directions</a>
						</div>
						<div class="phone">
							206-123-4567
						</div>
						<div ng-if="program.LWL_program_website__c"class="website">
							<a href="{{program.LWL_program_website__c}}">Website</a>
						</div>

					</div>
					<div class="divider"></div>
					<div class="desc col-sm-8">
						<h4>Description</h4>
						<p class="desc-content">
			  				{{program.Description__c | cut:true:215:' ...'}}
		  				</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
